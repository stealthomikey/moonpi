import paho.mqtt.client as mqtt

# Define callback function for when a message is received
def on_message(client, userdata, message):
    print(f"Received message on topic {message.topic}: {message.payload.decode()}")

# Create MQTT client instance
client = mqtt.Client()

# Assign callback function
client.on_message = on_message

# Connect to MQTT broker
client.connect("mqtt.example.com", 1883, 60)

# Subscribe to a topic
client.subscribe("topic/test")

# Loop forever to receive messages
client.loop_forever()
