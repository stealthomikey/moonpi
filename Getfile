from smb.SMBConnection import SMBConnection

# IP address of the host Pi
host_ip = "192.168.87.45"

# Username and password for accessing the shared directory
username = "pi"
password = "pi"

# Path to the shared directory
shared_directory = "movies"

directory_name = "juliusz"

file_name = "falling"

# Create an SMBConnection object
conn = SMBConnection(username, password, "python", "RaspberryPi", use_ntlm_v2=True)

# Connect to the shared directory
conn.connect(host_ip, 445)

file_obj = open(file_name, "wb")
conn.retrieveFile(shared_directory, f"{directory_name}/{file_name}", file_obj)
file_obj.close()

print(f"File '{file_name}' copied")


